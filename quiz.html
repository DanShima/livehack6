<!DOCTYPE html>
<html>

<head>
 
</head>

<style>


  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box !important;
  }


body {
  background: #cfe5cc;
  color: #fff;
}



.slider-container {
  width: 100%;
  height: 100%;
}


.border {
  border: solid red 2px;
}


.slide {
  width: 100%;
  height: 100%;
  padding: 20px;
}

.outer {
  border-radius: 15px;
  background-color: salmon;
  height: 500px;
  margin: 0 auto;

}

.inner {

  border-radius: 15px;
  background-color: salmon;



}

.hide {
  display: none;
}


h1 {
  color: white;
}

button {
  margin-top: 20px;
  padding-top: 20px;
  padding-right: 40px;
  padding-bottom: 20px;
  padding-left: 40px;
  border: none;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  border-radius: 24px;
  background: #47C070;
  color: white;
}

.slide0 {
  padding: 50px;
}

.first-h1 {
  padding-top: 400px;
  font-size: 100px;
  font-family: monospace;
}

#name-input {
  width: 80%;
  height: 80px;
  font-size: 50px;
  border-radius: 24px;
  padding-top: 70px;
  padding-right: 40px;
  padding-bottom: 70px;
  padding-left: 40px;
  margin-bottom: 26px;
}

#start-button {
  width: 500px;
  height: 100px;
  font-size: 60px;
  text-align: center;
}






</style>

<body>


  <div class="slider-container">

    <div class="slide slide0">
        <h1 class="first-h1">It's quiz time!</h1>
        <br>
            
            <input id="name-input" type="text" name="firstname" placeholder="Type your name:">
            <br>



            <Button id="start-button">
            Let's start
            </Button>

    </div>

    <div class="slide slide1 hide">
     
        <div class="outer">
        <div class="inner">
          <h1>#1 tools</h1>
        </div>
      </div>
        <button data-answer="a" data-question="tool" data-next="2" class="answer-button btn-1 icon-forward">Apple</button>
        <button data-answer="b" data-question="tool" data-next="2" class="answer-button btn-1 icon-forward">Windows</button>
        <button data-answer="c" data-question="tool" data-next="2" class="answer-button btn-1 icon-forward">Linux</button>
    </div>

    <div class="slide slide2 hide">
      <div class="outer">
        <div class="inner">
          <h1>#2 food</h1>
        </div>
      </div>
        <button data-answer="a" data-question="food" data-next="3" class="answer-button">Noodles</button>
        <button data-answer="b" data-question="food" data-next="3" class="answer-button">Pizza</button>
        <button data-answer="c" data-question="food" data-next="3" class="answer-button">Ice cream</button>
  
    </div>

    <div class="slide slide3 hide">
      <h1>#3 A date in</h1>
        <button data-answer="a" data-question="game" data-next="4" class="answer-button">Club</button>
        <button data-answer="b" data-question="game" data-next="4" class="answer-button">Cinema</button>
        <button data-answer="c" data-question="game" data-next="4" class="answer-button">Cafe/bar</button>
  
    </div>

    <div class="slide slide4 hide">
        <h1>#4 video games?</h1>
          <button data-answer="a" data-question="hackathons" data-next="5" class="answer-button">Yes</button>
          <button data-answer="b" data-question="hackathons" data-next="5" class="answer-button">No</button>
          <button data-answer="c" data-question="hackathons" data-next="5" class="answer-button">Don't care</button>
    
    
      </div>

      <div class="slide slide5 hide">
          <h1>#5 vegan</h1>
            <button data-answer="a" data-question="drugs" data-next="6" class="answer-button">Yes</button>
            <button data-answer="b" data-question="drugs" data-next="6" class="answer-button">No</button>
            <button data-answer="c" data-question="drugs" data-next="6" class="answer-button">What's that</button>
      
      
        </div>

      <div class="slide slide6 hide">
          <h1>#6 hackathons?</h1>
            <button data-answer="a" data-question="music" data-next="7" class="answer-button">Yes</button>
            <button data-answer="b" data-question="music" data-next="7" class="answer-button">No</button>
            <button data-answer="c" data-question="music" data-next="7" class="answer-button">Don't care</button>
      
      
        </div>

        <div class="slide slide7 hide">
            <h1>#7 legalize drugs?</h1>
              <button data-answer="a" data-question="vegan" data-next="8" class="answer-button">Yes</button>
              <button data-answer="b" data-question="vegan" data-next="8" class="answer-button">No</button>
              <button data-answer="c" data-question="vegan" data-next="8" class="answer-button">What's that?</button>
        
        
          </div>

          <div class="slide slide8 hide">
              <h1>#8 music</h1>
                <button data-answer="a" data-question="humanity" data-next="9" class="answer-button">Metal</button>
                <button data-answer="b" data-question="humanity" data-next="9" class="answer-button">Techno</button>
                <button data-answer="c" data-question="humanity" data-next="9" class="answer-button">Pop/RnB</button>
          
          
            </div>

          <div class="slide slide9 hide">
              <h1>#9  is AI bad for humanity?</h1>
                <button data-answer="a" data-question="date" data-next="10" class="answer-button">Yes</button>
                <button data-answer="b" data-question="date" data-next="10" class="answer-button">No</button>
                <button data-answer="c" data-question="date" data-next="10" class="answer-button">Not sure</button>
            </div>
  </div>


  <script>

var startButton = document.getElementById("start-button");


var usersName = "";

console.log(startButton);



startButton.addEventListener("click", () => {
      var name = document.querySelector("#name-input");
      usersName = name.value;


      document.querySelector(".slide0").classList.add("hide");
      document.querySelector(".slide1").classList.remove("hide");



      var xhr = new XMLHttpRequest();
      var url = "/connect";
      xhr.open("POST", url, true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
              var json = JSON.parse(xhr.responseText);
              console.log(json.email + ", " + json.password);
          }
      };
      var data = JSON.stringify({"email": "hey@mail.com", "password": "101010"});
      xhr.send(data);


    })



    var allAnswers = [];
    var answerButtons = document.getElementsByClassName("answer-button");
    var slides = document.getElementsByClassName("slide");

    Array.from(answerButtons).forEach(e => e.addEventListener("click", (e)=> {
      var button = e.target;
      // hide all


      var question = button.dataset.question;
      var answer = button.dataset.answer;

      if (button.dataset.next == 10) {
        console.log("the end");
        allAnswers.push({question, answer});

        sendAnswers(allAnswers);
      } else {
        Array.from(slides).forEach(e => e.classList.add("hide"));

        // show next
        var next = "slide" + button.dataset.next;
        var nextEl = document.querySelector("."+next)
        nextEl.classList.remove("hide");
        // caputure question

        var question = button.dataset.question;
        var answer = button.dataset.answer;
        // capture anser
        allAnswers.push({question, answer});



      }

      console.log(allAnswers)


    }));


    function sendAnswers(answer){
      // Sending and receiving data in JSON format using POST method
      //
      var xhr = new XMLHttpRequest();
      var url = "url";
      xhr.open("POST", url, true);
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
              var json = JSON.parse(xhr.responseText);
              console.log(json.email + ", " + json.password);
          }
      };
      var data = JSON.stringify({"email": "hey@mail.com", "password": "101010"});
      xhr.send(data);
    }
    
  </script>
</body>

</html>